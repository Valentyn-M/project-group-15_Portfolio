import{i as v,a as b}from"./assets/vendor-id1YaUKM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();const m=document.documentElement,L=document.querySelector(".switch-theme-test");L.addEventListener("click",()=>y(!0));function y(e=!1){let t=m.classList.contains("_light")?"light":"dark",s,i;t==="light"?(s="dark",i="dark"):(s="light",i="light"),m.classList.remove(`_${t}`),m.classList.add(`_${s}`),L.blur(),m.setAttribute("data-color-scheme",i),e&&localStorage.setItem("theme",s)}(function(){const e=localStorage.getItem("theme");let t;window.matchMedia&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{e||y()});function s(){e?(m.classList.add(`_${e}`),m.setAttribute("data-color-scheme",e)):(m.classList.add(`_${t}`),m.setAttribute("data-color-scheme",t))}s()})();const S="https://portfolio-js.b.goit.study/api/",d=document.querySelector(".work-together-form"),r=d.elements.email,l=d.elements.message,u=d.querySelector(".work-together-input-success-icon"),h=d.querySelector(".work-together-input-error-message"),p="contact-form-state",n=document.querySelector(".modal-overlay"),c={email:"",message:""},g=JSON.parse(localStorage.getItem(p));if(g){const e=g.email??"",t=g.message??"";e&&(r.value=e,c.email=e),t&&(l.value=t,c.message=t)}d.addEventListener("input",e=>{e.target===r?c.email=e.target.value.trim():e.target===l&&(c.message=e.target.value.trim()),localStorage.setItem(p,JSON.stringify(c))});r.addEventListener("focus",function(e){r.setAttribute("data-placeholder",r.getAttribute("placeholder")),r.setAttribute("placeholder",""),h.classList.remove("is-active"),r.classList.remove("error"),u.classList.remove("is-active")});l.addEventListener("focus",function(e){l.setAttribute("data-placeholder",l.getAttribute("placeholder")),l.setAttribute("placeholder","")});r.addEventListener("blur",function(){c.email!=""&&(r.checkValidity()?A():E()),r.setAttribute("placeholder",r.getAttribute("data-placeholder"))});l.addEventListener("blur",function(e){l.setAttribute("placeholder",l.getAttribute("data-placeholder"))});d.addEventListener("submit",e=>{if(e.preventDefault(),c.email==="")return v.warning({class:"izitoast-warning",titleSize:"16px",message:"Please enter your email",messageSize:"16px",close:!0,closeOnEscape:!0,position:"topRight",timeout:4e3,animateInside:!1,transitionIn:"bounceInLeft"});if(!r.checkValidity()){E();return}k(c.email,c.message).then(t=>{n.querySelector(".modal-form-title").textContent=`${t.title}`,n.querySelector(".modal-form-text").textContent=`${t.message}`,n.classList.add("is-active"),w(),u.classList.remove("is-active"),localStorage.removeItem(p),c.email="",c.message="",e.target.reset()}).catch(t=>v.error({class:"izitoast-error",title:`${t.code}`,titleSize:"16px",titleLineHeight:"1.3",message:`${t.message}. ${t.response.data.message}`,messageSize:"16px",messageLineHeight:"1.4",close:!0,closeOnEscape:!0,position:"topRight",timeout:1e4,animateInside:!1,transitionIn:"bounceInLeft"}))});function E(){h.classList.add("is-active"),r.classList.add("error"),u.classList.remove("is-active")}function A(){h.classList.remove("is-active"),r.classList.remove("error"),u.classList.add("is-active")}function w(){n.addEventListener("click",e);function e(s){const i=s.target;i.closest(".modal-overlay")&&(n.classList.remove("is-active"),n.removeEventListener("click",e)),i.closest(".modal-form-close-icon")&&(n.classList.remove("is-active"),n.removeEventListener("click",e))}document.addEventListener("keyup",t);function t(s){s.code==="Escape"&&(n.classList.remove("is-active"),document.removeEventListener("keyup",t))}}async function k(e,t){const s={email:e,comment:t||"Message is empty"};return(await b.post(`${S}requests`,s)).data}
//# sourceMappingURL=index.js.map
